<!-- app/views/dashboard/index.html.erb -->

<!-- Wrapper for Sidebar Layout -->
<div class="flex bg-gray-50 min-h-screen font-sans">
  
  <!-- Render Sidebar -->
  <%= render 'shared/tenant_sidebar' %>

  <!-- Main Content Area -->
  <main class="flex-1 ml-64 p-8">
    
    <!-- Top Header -->
    <header class="flex justify-between items-start mb-10">
      <div>
        <h1 class="text-3xl font-extrabold text-gray-900 tracking-tight">Welcome to <%= current_tenant&.name || "Store" %>.</h1>
        <p class="text-gray-500 mt-1">Hello <%= current_user.email.split('@').first.capitalize %>, welcome back!</p>
      </div>

      <div class="flex items-center gap-6">
        <!-- Search Bar -->
        <div class="relative">
          <input type="text" placeholder="Search Dashboard" class="bg-white border-none rounded-xl py-3 pl-12 pr-4 w-64 text-sm text-gray-600 shadow-sm focus:ring-2 focus:ring-green-500 placeholder-gray-400">
          <svg class="w-5 h-5 text-gray-400 absolute left-4 top-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
        </div>

        <!-- Action Icons -->
        <button class="p-3 bg-white rounded-xl shadow-sm hover:shadow transition text-gray-500 hover:text-green-600 relative">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
        </button>
        
        <button class="p-3 bg-white rounded-xl shadow-sm hover:shadow transition text-gray-500 hover:text-green-600 relative">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
          <span class="absolute top-2 right-3 w-2 h-2 bg-red-500 rounded-full border border-white"></span>
        </button>

        <!-- Profile -->
        <div class="h-12 w-12 rounded-xl bg-gray-200 overflow-hidden border-2 border-white shadow-sm">
          <img src="https://api.dicebear.com/9.x/avataaars/svg?seed=<%= current_user.email %>" alt="User" class="h-full w-full object-cover">
        </div>
      </div>
    </header>

    <!-- Content Grid -->
    <div class="grid grid-cols-12 gap-8">
      
      <!-- Left Column (Main Content) -->
      <div class="col-span-8 space-y-8">
        
        <!-- Hero Banner -->
        <div class="relative rounded-3xl overflow-hidden h-72 bg-gray-900 group">
          <!-- Background Image (Overlay) -->
          <div class="absolute inset-0 bg-gradient-to-r from-black/80 to-transparent z-10"></div>
          <img src="https://images.unsplash.com/photo-1463936575829-25148e1db1b8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80" class="absolute inset-0 w-full h-full object-cover opacity-80 group-hover:scale-105 transition duration-700" alt="Plants">
          
          <div class="relative z-20 p-10 flex flex-col justify-center h-full max-w-lg">
            <h2 class="text-4xl font-bold text-white leading-tight mb-2">Create and sell extraordinary products</h2>
            <p class="text-gray-300 mb-8">The world's first and largest handmade products marketplace.</p>
            
            <div class="flex gap-4">
              <button class="bg-white text-gray-900 px-6 py-3 rounded-xl font-bold text-sm hover:bg-gray-100 transition">Explore More</button>
              <button class="bg-black/30 backdrop-blur-sm border border-white/20 text-white px-6 py-3 rounded-xl font-bold text-sm hover:bg-black/50 transition">Top Sellers</button>
            </div>
          </div>
        </div>

        <!-- My Listings Section -->
        <div>
          <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold text-green-900">My Listings</h3>
            <a href="#" class="text-xs text-gray-400 font-semibold hover:text-green-600">View All →</a>
          </div>

          <div class="grid grid-cols-3 gap-6">
            <% 3.times do |i| %>
              <div class="bg-white p-4 rounded-3xl shadow-sm hover:shadow-md transition group cursor-pointer border border-transparent hover:border-green-100">
                <div class="aspect-square rounded-2xl bg-gray-100 mb-4 overflow-hidden relative">
                   <img src="https://images.unsplash.com/photo-1545241047-6083a3684587?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="w-full h-full object-cover group-hover:scale-110 transition duration-500" alt="Plant">
                   <!-- Arrow Icon -->
                   <div class="absolute top-3 right-3 w-8 h-8 bg-white/90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition">
                     <svg class="w-4 h-4 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                   </div>
                </div>
                <h4 class="text-center font-bold text-gray-800 text-sm">Annual Vinca</h4>
              </div>
            <% end %>
          </div>
        </div>

        <!-- Top Sellers (Small list at bottom) -->
        <div class="grid grid-cols-2 gap-6">
          <div class="bg-white p-6 rounded-3xl shadow-sm">
             <div class="flex justify-between items-center mb-4">
               <h4 class="font-bold text-green-900">Top Sellers</h4>
               <a href="#" class="text-xs text-gray-400">View All →</a>
             </div>
             <div class="flex items-center gap-4">
                <div class="flex -space-x-2">
                  <% 4.times do |i| %>
                    <img class="w-10 h-10 rounded-full border-2 border-white" src="https://api.dicebear.com/9.x/avataaars/svg?seed=<%= i %>" alt="">
                  <% end %>
                </div>
                <div>
                  <p class="font-bold text-gray-800 text-sm">1,542 plants sold</p>
                  <div class="flex gap-2 text-xs text-gray-500">
                    <span>10 sellers</span>
                    <span class="w-1 h-1 bg-gray-300 rounded-full my-auto"></span>
                    <span>7 days</span>
                  </div>
                </div>
             </div>
          </div>

          <div class="bg-white p-6 rounded-3xl shadow-sm">
             <div class="flex justify-between items-center mb-4">
               <h4 class="font-bold text-green-900">Featured Sellers</h4>
               <a href="#" class="text-xs text-gray-400">View All →</a>
             </div>
             <div class="flex items-center gap-4">
                <div class="flex -space-x-2">
                  <% 4.times do |i| %>
                    <img class="w-10 h-10 rounded-full border-2 border-white" src="https://api.dicebear.com/9.x/avataaars/svg?seed=<%= i+10 %>" alt="">
                  <% end %>
                </div>
                <div>
                  <p class="font-bold text-gray-800 text-sm">2,156 plants sold</p>
                  <div class="flex gap-2 text-xs text-gray-500">
                    <span>10 sellers</span>
                    <span class="w-1 h-1 bg-gray-300 rounded-full my-auto"></span>
                    <span>7 days</span>
                  </div>
                </div>
             </div>
          </div>
        </div>

      </div>

      <!-- Right Column (Stats & Activity) -->
      <div class="col-span-4 space-y-8">
        
        <!-- Stats Card -->
        <div class="bg-[#B5F194] rounded-3xl p-8 relative overflow-hidden h-64 flex flex-col justify-center">
          <!-- Decorative Plant Image -->
          <img src="https://images.unsplash.com/photo-1509937528035-ad76254b0356?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80" class="absolute -right-10 bottom-0 w-48 object-cover mix-blend-multiply opacity-50" alt="Decor">
          
          <h3 class="text-2xl font-bold text-green-900 mb-6 relative z-10">My Stats</h3>
          <div class="flex gap-8 relative z-10">
            <div>
              <p class="text-xs font-bold text-green-800 mb-1">Today</p>
              <p class="text-xl font-extrabold text-green-900">4 Orders</p>
            </div>
            <div>
              <p class="text-xs font-bold text-green-800 mb-1">This Month</p>
              <p class="text-xl font-extrabold text-green-900">173 Orders</p>
            </div>
          </div>
          
          <a href="#" class="mt-8 inline-flex items-center text-xs font-bold text-green-900 hover:underline relative z-10">
            Go to my orders <span class="ml-1">→</span>
          </a>
        </div>

        <!-- Recent Activity -->
        <div class="pl-2">
           <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold text-green-900">Recent Activity</h3>
            <a href="#" class="text-xs text-gray-400 font-semibold hover:text-green-600">View All →</a>
          </div>

          <div class="space-y-6">
            <% 5.times do |i| %>
              <div class="flex items-start gap-4">
                <img src="https://api.dicebear.com/9.x/avataaars/svg?seed=User<%= i %>" class="w-10 h-10 rounded-full bg-gray-100" alt="User">
                <div class="flex-1">
                  <h5 class="text-sm font-bold text-gray-800">Ageratum houstonianum</h5>
                  <p class="text-xs text-gray-400 mt-0.5">Ordered a new plant</p>
                </div>
                <span class="text-xs text-gray-400 font-medium">3 min ago</span>
              </div>
            <% end %>
          </div>

        </div>

      </div>
    </div>

  </main>
</div>